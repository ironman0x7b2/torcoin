\section{Preliminary Results}

The TorCoin protocol does add a small amount of overhead to the Tor traffic.
In our experimental setup, we set up a series of servers using the Python
Twisted framework to simulate the passing of TorCoin generation and
verification messages through a set of relays.

The total overhead from one round of successful TorCoin mining (i.e., one
entire round trip from client through all the relays and back again) results
in a total TorCoin packet overhead of 1752 bytes. This can be broken down
into:

\begin{itemize}
\item The first packet from client to entry relay: 34 bytes.
\item Packet forwarded from entry to middle relay: 66 bytes.
\item Packet forwarded from middle to exit relay: 98 bytes each.
\item Packet from from exit to middle relay: 324 bytes.
\item Packet from from middle to entry relay: 518 bytes.
\item Packet from from entry relay to client: 712 bytes
\item Total: 1752 bytes
\end{itemize}

Each round of TorCoin generation and verification happens only after $m$ Tor
packets have been sent. Each standard Tor cell is 514 bytes long, so each
round trip on the network requires transmission of 514 * 6 = 3084 bytes. Thus,
if $m \geq 10$, the TorCoin protocol overhead is around 5\%. The value of m
can be calibrated in further experimentation and as needed in order to achieve
the sweet-spot of transmission efficiency and incentive maximization for relay
providers.

It is possible for the system to tune the value of m to decrease during times
of high usage to incentivise relay providers to temporarily provide more
servers to the network.

\begin{figure}
  \centering
    \includegraphics[scale=0.8]{graph.eps}
    % \includegraphics[scale=0.5]{graph.pdf}
  \caption{TorCoin packet overhead}
\end{figure}

While the Neff shuffle is complicated and requires a large number of
communications between all of the servers, in practice, since the number of
directory servers that will be involved in each shuffle will be relatively
small (less than 10) and are relatively fast servers with high-bandwidth
connections with each other, this will not be a major bottleneck. In addition,
since this is a one-time cost of connecting to the network, the users will be
willing to wait for the slight time that it takes to setup the protocol,
especially if the speeds increase sufficiently.
